set distro (grep -E '^NAME=' /etc/os-release | cut -b 7-16)

direnv hook fish | source
atuin init fish | source
   eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
end

# eval /home/sheffler/miniconda3/bin/conda "shell.fish" "hook" $argv | source
if [ "Arch Linux" != $distro ]
# conda activate rfd
# source $HOME/venv/sci/bin/activate.fish

fish_add_path /home/linuxbrew/.linuxbrew/bin
fish_add_path $HOME/go/bin

# # set -gx __NV_PRIME_RENDER_OFFLOAD 1
# # set -gx __GLX_VENDOR_LIBRARY_NAME nvidia

set -gx OMP_NUM_THREADS 1
set -gx MKL_NUM_THREADS 1

# #set -gx LD_PRELOAD '/home/sheffler/tools/graphbolt/lib/mimalloc/out/release/libmimalloc.so'
set -gx APPTAINER_CONTAINER '/software/containers/users/sheffler/rf_diffusion_aa_py310.sif'
# # set -gx PY /home/sheffler/venv/sci/bin/python
# # function fish_prompt; echo "-> "; end
# # function fish_prompt_right; echo ""; end

# # >>> conda initialize >>>
# # !! Contents within this block are managed by 'conda init' !!
# # if test -f /home/sheffler/miniconda3/bin/conda
#     # eval /home/sheffler/miniconda3/bin/conda "shell.fish" "hook" $argv | source
# # end
# # <<< conda initialize <<<

if set -q DISPLAY; and $USER != 'root';
   set -gx EDITOR 'sublime_text'
else;
   set -gx EDITOR ' emacs'
   setfont /home/sheffler/.local/share/consolefonts/Lat15-Terminus32x16.psf.gz
end

neofetch
